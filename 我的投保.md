## 我的保险接口 ###
### 1.投保列表查询 ####
#### 基本信息
    请求类型：HTTP
    请求地址：http://127.0.0.1:8080/app/policys/listApplyPolicys
    请求方式：get
    请求类型：String ，int ,int,String
    响应类型：R
#### 接口描述
    本接口是查询企业的投保信息
    1.如果userId为null或者“”，抛出异常
    2.如果没有数据，返回无数据

#### 请求数据
<table>
       <tr>
           <th>参数名称</th>
           <th>是否必填</th>
           <th>类型</th>
           <th>长度</th>
           <th>描述</th>
           <th>默认值</th>
           <th>备注</th>
       </tr>
       <tr>
           <td>userId</td>
           <td>√</td>
           <td>String</td>
           <td>32</td>
           <td>查询用户id</td>
           <td></td>
           <td></td>
       </tr>
       <tr>
          <td>pageNum</td>
          <td>√</td>
          <td>int</td>
          <td></td>
          <td>第几页</td>
          <td>1</td>
          <td></td>
       </tr>
       <tr>
         <td>pageSize</td>
         <td>√</td>
         <td>int</td>
         <td></td>
         <td>每页记录数</td>
         <td>10</td>
         <td></td>
       </tr>
       <tr>
           <td>token</td>
           <td>√</td>
           <td></td>
           <td></td>
           <td>登录验证</td>
           <td></td>
           <td></td>
       </tr>
   </table>  
   
#### 响应数据  
<table>
      <tr>
          <th>参数名称</th>
          <th>是否必填</th>
          <th>描述</th>
          <th>默认值</th>
      </tr>
      <tr>
          <td>total</td>
          <td>√</td>
          <td>数据总数</td>
          <td></td>
      </tr>
      <tr>
          <td>pageNum</td>
          <td>√</td>
          <td>第几页</td>
          <td></td>
      </tr>
      <tr>
          <td>pageSie</td>
          <td>√</td>
          <td>每页记录数</td>
          <td></td>
      </tr>
      <tr>
          <td>pages</td>
          <td>√</td>
          <td>总页数</td>
          <td></td>
      </tr>
      <tr>
          <td>size</td>
          <td>√</td>
          <td>当前页的数量</td>
          <td></td>
      </tr>
      <tr>
          <td>list</td>
          <td>√</td>
          <td>结果集</td>
          <td></td>
      </tr>
         
  </table>
<table>
  	<tr>
          <td>结果集内容名称</td>
          <td>是否必填</td>
          <td>描述</td>
          <td>默认值</td>
      </tr>
      <tr>
          <td>amount</td>
          <td>√</td>
          <td>投保金额</td>
          <td></td>
      </tr>
      <tr>
          <td>rate</td>
          <td>√</td>
          <td>保险费率</td>
          <td></td>
      </tr>
      <tr>
          <td>input_time</td>
          <td>√</td>
          <td>申请时间</td>
          <td></td>
      </tr>
      <tr>
          <td>business_no</td>
          <td>√</td>
          <td>编号</td>
          <td></td>
      </tr>
      <tr>
          <td>risk_code</td>
          <td>√</td>
          <td>险种代码</td>
          <td></td>
      </tr>
      <tr>
          <td>risk_name</td>
          <td>√</td>
          <td>险种名称</td>
          <td></td>
      </tr>
      <tr>
          <td>status</td>
          <td>√</td>
          <td>状态</td>
          <td></td>
      </tr>
  </table>
  
#### 实例  
请求参数：  
```json 
 {
    "userId":"zhangsan",
    "token":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxNTI2NDMxMTE2OCIsImlhdCI6MTUxNTQ3NzkwMCwiZXhwIjoxNTE1NzM3MTAwfQ.E9k7F5hfrkV9G4hXuZuRR-Co_CjYdQ9oEn3ofLsjmZynkYRbyE7T9lOCtjxFjaqw2qFp6dlVG88L4_r0Sd2oOw"
 }  
```
响应参数：  
```json
{
  "msg": "success",
  "code": 200,
  "data": {
    "total": 4,
    "list": [
      {
        "amount": 2000000,
        "rate": 0.03,
        "input_time": "2018-01-09 10:40:04",
        "business_no": "2",
        "risk_code": "1234",
        "risk_name": "借款履约保证保险",
        "status": "1"
      },
      {
        "amount": 2000000,
        "rate": 0.03,
        "input_time": "2018-01-09 10:38:13",
        "business_no": "1",
        "risk_code": "1234",
        "risk_name": "借款履约保证保险",
        "status": "0"
      }
    ],
    "pageNum": 2,
    "pageSize": 2,
    "pages": 2,
    "size": 2
  }
}  
```
#### 数据库操作  
  根据userId查询投保列表  
```sql
  select gu.business_no,gu.risk_code,gp.product_name risk_name,gu.amount,gu.rate,gu.input_time,gu.status   
     from gupolicymain gu left join ggproduct gp on gu.risk_code= gp.product_id  where gu.insure_appli = #{userId} and gu.status <> '5' order by gu.update_time desc
```
---


### 2.查看申请投保
#### 基本信息
     请求类型：HTTP
     请求地址：http://127.0.0.1:8080/app/policys/viewApplyPolicy
     请求方式：get
     请求类型：String ,String
     响应类型：R
#### 接口描述
     本接口是查看企业的投保信息
     1.根据申请编号businessNo查询
     2.如果没有数据，返回无数据
#### 请求数据
<table>
    <tr>
        <th>参数名称</th>
        <th>是否必填</th>
        <th>类型</th>
        <th>长度</th>
        <th>描述</th>
        <th>默认值</th>
        <th>备注</th>
    </tr>
    <tr>
        <td>businessNo</td>
        <td>√</td>
        <td>String</td>
        <td>32</td>
        <td>申请id</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>token</td>
        <td>√</td>
        <td></td>
        <td></td>
        <td>登录验证</td>
        <td></td>
        <td></td>
    </tr>
</table>
    
#### 响应数据
<table>
   <tr>
       <th>参数名称</th>
       <th>是否必填</th>
       <th>描述</th>
       <th>默认值</th>
   </tr>
   <tr>
  <td>endDate</td>
  <td></td>
  <td>合同结束日期</td>
  <td></td>
</tr>
<tr>
  <td>contractType</td>
  <td></td>
  <td>合同类型（供应商等）</td>
  <td></td>
</tr>
<tr>
  <td>contractId</td>
  <td></td>
  <td>合同ID</td>
  <td></td>
</tr>
<tr>
  <td>contractAmount</td>
  <td></td>
  <td>合同金额</td>
  <td></td>
</tr>
<tr>
  <td>linkType</td>
  <td></td>
  <td>联系方式</td>
  <td></td>
</tr>
<tr>
  <td>partnerId</td>
  <td></td>
  <td>合作人</td>
  <td></td>
</tr>
<tr>
  <td>userId</td>
  <td></td>
  <td>用代码</td>
  <td></td>
</tr>
<tr>
  <td>linkMan</td>
  <td></td>
  <td>联系人</td>
  <td></td>
</tr>
<tr>
  <td>startDate</td>
  <td></td>
  <td>合同开始日期</td>
  <td></td>
</tr>
<tr>
  <td>contractImg</td>
  <td></td>
  <td>合同图片</td>
  <td></td>
</tr>
<tr>
  <td>chartType</td>
  <td></td>
  <td>财务报表类型</td>
  <td></td>
</tr>
<tr>
  <td>chartYear</td>
  <td></td>
  <td>合同年</td>
  <td></td>
</tr>
<tr>
  <td>chartSource</td>
  <td></td>
  <td>合同图片</td>
  <td></td>
</tr>
<tr>
  <td>id</td>
  <td></td>
  <td>财务报表ID</td>
  <td></td>
</tr>
<tr>
  <td>userId</td>
  <td></td>
  <td>用户名</td>
  <td></td>
</tr>
<tr>
  <td>chartMonth</td>
  <td></td>
  <td>合同月</td>
  <td></td>
</tr>
<tr>
  <td>amount</td>
  <td></td>
  <td>保额</td>
  <td></td>
</tr>
<tr>
  <td>address</td>
  <td></td>
  <td>投保人详细地址</td>
  <td></td>
</tr>
<tr>
  <td>town</td>
  <td></td>
  <td>投保人乡镇</td>
  <td></td>
</tr>
<tr>
  <td>appli_name</td>
  <td></td>
  <td>投保人名称</td>
  <td></td>
</tr>
<tr>
  <td>letter_id</td>
  <td></td>
  <td>推荐函ID</td>
  <td></td>
</tr>
<tr>
  <td>insured_mobile</td>
  <td></td>
  <td>投保人联系方式</td>
  <td></td>
</tr>
<tr>
  <td>work_place</td>
  <td></td>
  <td>投保人工作单位</td>
  <td></td>
</tr>
<tr>
  <td>uniform_code</td>
  <td></td>
  <td>投保人单位统一信用代码</td>
  <td></td>
</tr>
<tr>
  <td>province</td>
  <td></td>
  <td>贵州省</td>
  <td></td>
</tr>
<tr>
  <td>insured_name</td>
  <td></td>
  <td>被保险人名称</td>
  <td></td>
</tr>
<tr>
  <td>contact</td>
  <td></td>
  <td>被保险人联系方式</td>
  <td></td>
</tr>
<tr>
  <td>post_code</td>
  <td></td>
  <td>投保人邮编</td>
  <td></td>
</tr>
<tr>
  <td>insured_identity_no</td>
  <td></td>
  <td>被保险人证件号</td>
  <td></td>
</tr>
<tr>
  <td>identity_no</td>
  <td></td>
  <td>投保人证件号</td>
  <td></td>
</tr>
<tr>
  <td>village</td>
  <td></td>
  <td>投保人村庄</td>
  <td></td>
</tr>
<tr>
  <td>insured_link</td>
  <td></td>
  <td>被保人联系人</td>
  <td></td>
</tr>
<tr>
  <td>risk_name</td>
  <td></td>
  <td>险种名称</td>
  <td></td>
</tr>
<tr>
  <td>referrer</td>
  <td></td>
  <td>推荐人</td>
  <td></td>
</tr>
<tr>
  <td>endDate</td>
  <td></td>
  <td>推荐函有效期止</td>
  <td></td>
</tr>
<tr>
  <td>letterId</td>
  <td></td>
  <td>推荐函ID</td>
  <td></td>
</tr>
<tr>
  <td>inputTime</td>
  <td></td>
  <td>录入时间</td>
  <td></td>
</tr>
<tr>
  <td>certId</td>
  <td></td>
  <td>认证ID</td>
  <td></td>
</tr>
<tr>
  <td>accepter</td>
  <td></td>
  <td>接收人</td>
  <td></td>
</tr>
<tr>
  <td>userId</td>
  <td></td>
  <td>被推荐人</td>
  <td></td>
</tr>
<tr>
  <td>startDate</td>
  <td></td>
  <td>推荐函有效期开始</td>
  <td></td>
</tr>
<tr>
  <td>area</td>
  <td></td>
  <td>面积</td>
  <td></td>
</tr>
<tr>
  <td>assetNature</td>
  <td></td>
  <td>产权性质/用途（1办公；2仓库；3住宅；4综合；5其他）</td>
  <td></td>
</tr>
<tr>
  <td>address</td>
  <td></td>
  <td>详细地址</td>
  <td></td>
</tr>
<tr>
  <td>assetHolder</td>
  <td></td>
  <td>持有人</td>
  <td></td>
</tr>
<tr>
  <td>town</td>
  <td></td>
  <td>乡镇</td>
  <td></td>
</tr>
<tr>
  <td>city</td>
  <td></td>
  <td>市</td>
  <td></td>
</tr>
<tr>
  <td>county</td>
  <td></td>
  <td>区县</td>
  <td></td>
</tr>
<tr>
  <td>inputTime</td>
  <td></td>
  <td>录入时间</td>
  <td></td>
</tr>
<tr>
  <td>assetType</td>
  <td></td>
  <td>资产类型</td>
  <td></td>
</tr>
<tr>
  <td>assetImg</td>
  <td></td>
  <td>资证</td>
  <td></td>
</tr>
<tr>
  <td>mortgageBank</td>
  <td></td>
  <td>抵押银行</td>
  <td></td>
</tr>
<tr>
  <td>province</td>
  <td></td>
  <td>省</td>
  <td></td>
</tr>
<tr>
  <td>assetId</td>
  <td></td>
  <td>资产ID</td>
  <td></td>
</tr>
<tr>
  <td>mortgageAmount</td>
  <td></td>
  <td>抵押余额</td>
  <td></td>
</tr>
<tr>
  <td>netWorth</td>
  <td></td>
  <td>净值</td>
  <td></td>
</tr>
<tr>
  <td>linkType</td>
  <td></td>
  <td>联系方式</td>
  <td></td>
</tr>
<tr>
  <td>village</td>
  <td></td>
  <td>村</td>
  <td></td>
</tr>
<tr>
  <td>futurePrice</td>
  <td></td>
  <td>预估价</td>
  <td></td>
</tr>
<tr>
  <td>invoiceHeader</td>
  <td></td>
  <td>发票抬头</td>
  <td></td>
</tr>
<tr>
  <td>invoiceImg</td>
  <td></td>
  <td>发票资料</td>
  <td></td>
</tr>
<tr>
  <td>contractId</td>
  <td></td>
  <td>发票ID</td>
  <td></td>
</tr>
<tr>
  <td>invoiceType</td>
  <td></td>
  <td>发票类型（1普通发票，2增值税专用发票，3其他）</td>
  <td></td>
</tr>
<tr>
  <td>inputTime</td>
  <td></td>
  <td>2018-01-15 19:58:01</td>
  <td></td>
</tr>
<tr>
  <td>invoiceAmount</td>
  <td></td>
  <td>发票金额</td>
  <td></td>
</tr>
<tr>
  <td>invoiceNo</td>
  <td></td>
  <td>发票号码</td>
  <td></td>
</tr>
<tr>
  <td>invoiceCode</td>
  <td></td>
  <td>发票代码</td>
  <td></td>
</tr>
<tr>
  <td>createDate</td>
  <td></td>
  <td>开票日期</td>
  <td></td>
</tr>
<tr>
  <td>cardName</td>
  <td></td>
  <td>国医之家-营业执照</td>
  <td></td>
</tr>
<tr>
  <td>endDate</td>
  <td></td>
  <td>证件有效期止</td>
  <td></td>
</tr>
<tr>
  <td>cardId</td>
  <td></td>
  <td>资证id</td>
  <td></td>
</tr>
<tr>
  <td>cardImg</td>
  <td></td>
  <td>证件材料</td>
  <td></td>
</tr>
<tr>
  <td>cardType</td>
  <td></td>
  <td>资证类型（01，营业执照；02，生成许可证；03，经营许可证；04税务登记证；05身份证；06结婚证；07户口本；08授权书；09委托书；10其他证件）</td>
  <td></td>
</tr>
<tr>
  <td>cardNo</td>
  <td></td>
  <td>证件号</td>
  <td></td>
</tr>
<tr>
  <td>startDate</td>
  <td></td>
  <td>证件有效期起</td>
  <td></td>
</tr>
<tr>
  <td>identity</td>
  <td></td>
  <td>46546466</td>
  <td></td>
</tr>
<tr>
  <td>identityNo</td>
  <td></td>
  <td>配偶证件号</td>
  <td></td>
</tr>
<tr>
  <td>companyName</td>
  <td></td>
  <td>工作单位</td>
  <td></td>
</tr>
<tr>
  <td>name</td>
  <td></td>
  <td>配偶姓名</td>
  <td></td>
</tr>
<tr>
  <td>mobile</td>
  <td></td>
  <td>配偶联系方式</td>
  <td></td>
</tr>
<tr>
  <td>businessClassCode</td>
  <td></td>
  <td>统一社会信用代码</td>
  <td></td>
</tr>


Process finished with exit code 0

</table>
   
#### 实例
  请求参数：  
```json
  {
     "businessNo":"zhangsan",
     "token":"154dfsdff48313s1ve844313131fsd8"
  }  
```
   响应参数： 
```json 
{
  "msg": "success",
  "code": 200,
  "data": {
    "contractsList": [
      {
        "contractId": "15160133073853215176",
        "userId": "15264311168",
        "contractType": "供应商",
        "partnerId": null,
        "linkMan": null,
        "linkType": "",
        "contractAmount": null,
        "startDate": null,
        "endDate": null,
        "contractImg": null,
        "inputTime": "2018-01-15 18:48:27",
        "updator": "15264311168",
        "updateTime": "2018-01-15 18:48:27",
        "remark": null,
        "flag": null,
        "validStatus": "1"
      }
    ],
    "financialsList": [
      {
        "id": "97946",
        "userId": "某公司",
        "chartType": "",
        "chartYear": null,
        "chartMonth": null,
        "chartSource": null,
        "inputTime": "2018-01-12 19:48:27",
        "updator": "15264311168",
        "updateTime": "2018-01-17 19:48:31",
        "remark": null,
        "flag": null
      }
    ],
    "policyMain": {
      "amount": 2000000,
      "address": "dsjfoisjfsd",
      "town": "guizhou",
      "appli_name": "zhangsan",
      "letter_id": "",
      "insured_mobile": "134646",
      "work_place": "sfsfdsf",
      "uniform_code": "dfdsfdsfsd",
      "province": "贵州省",
      "insured_name": "yinhang",
      "contact": "134646",
      "post_code": "5200",
      "insured_identity_no": "134646",
      "identity_no": "134646",
      "village": "guizhou",
      "insured_link": "yinhang",
      "risk_name": "借款履约保证保险"
    },
    "letter": null,
    "assetsList": [
      {
        "assetId": "546",
        "userId": "",
        "assetType": "股东资产",
        "assetHolder": "fgfg",
        "assetNature": null,
        "province": "g",
        "city": null,
        "county": "g",
        "town": "g",
        "village": "g",
        "address": null,
        "linkType": "g",
        "area": null,
        "futurePrice": 0,
        "mortgageAmount": 0,
        "netWorth": 0,
        "mortgageBank": "g",
        "assetImg": "g",
        "inputTime": "2018-01-15 19:58:11",
        "updator": null,
        "updateTime": null,
        "validStatus": "1",
        "remark": null,
        "flag": null
      }
    ],
    "invoicesList": [
      {
        "contractId": "1364646",
        "userId": "",
        "invoiceType": "1",
        "invoiceCode": null,
        "invoiceNo": null,
        "invoiceAmount": null,
        "invoiceHeader": null,
        "createDate": null,
        "invoiceImg": null,
        "validStatus": "1",
        "inputTime": "2018-01-15 19:58:01",
        "updator": null,
        "updateTime": null,
        "remark": null,
        "flag": null
      }
    ],
    "managerCardsList": [
      {
        "cardId": "0000000",
        "userId": null,
        "cardType": "1",
        "cardName": "国医之家-营业执照",
        "cardNo": "1959187248",
        "startDate": "2017-01-01 18:32:24",
        "endDate": "2018-01-15 18:32:18",
        "cardImg": null,
        "validStatus": "1",
        "updator": "123456",
        "updateTime": "2018-01-15 18:33:14",
        "remark": null,
        "flag": null
      }
    ],
    "otherList": {
      "identity": "46546466"
    },
    "policyMate": {
      "businessNo": "15155516905141164280",
      "name": "张倩",
      "identityNo": "18568973354486",
      "mobile": "0536-85963214",
      "companyName": "城管局",
      "businessClassCode": "49835124kjh",
      "flag": null,
      "remark": null
    }
  }
}
```
#### 数据库操作
   根据businessNo查询投保列表  
```sql
    ### 保单基本信息
   SELECT
        (
            SELECT
                organ_name
            FROM
                ggorgan
            WHERE
                organ_id = gu.insurance_code
        ) insurance_name,
        gp.product_name risk_name,
        gu.amount,
        appli.insured_name appli_name,
        appli.mobile contact,
        appli.identity_no,
        appli.post_code,
        (select code_c_name from ggcode where code_type='Province' and code_code = appli.province) province,
        (select code_c_name from ggcode where code_type='City' and code_code = appli.city) city,
        (select code_c_name from ggcode where code_type='County' and code_code = appli.county) county,
        appli.town,
        appli.village,
        appli.address,
        appli.company work_place,
        appli.uniform_code,
        insured.insured_name insured_name,
        insured.identity_no insured_identity_no,
        insured.insured_name insured_link,
        insured.mobile insured_mobile,
        gu.letter_id
    FROM
        gupolicymain gu
        left join ggproduct gp on gp.product_id = gu.risk_code
        left join gupolicyinsured appli on appli.business_no = gu.business_no and appli.insured_type = '1'
        left join gupolicyinsured insured on gu.business_no = insured.business_no and insured.insured_type = '2'
    WHERE
        gu.business_no = #{businessNo}
    AND gu.status != '5'
    AND gu.status != '5'
    #### 投保人配偶
    根据主键businessNo查询
    #### 推荐函
    根据主键letter_id查询
    ### 资证
    ### 合同表

```

### 3.编辑申请投保
#### 基本信息
     请求类型：HTTP
     请求地址：http://127.0.0.1:8080/app/policys/editApplyPolicy
     请求方式：get
     请求类型：String ,String
     响应类型：R
#### 接口描述
     本接口是编辑投保信息
     1.根据申请编号businessNo编辑投保
     2.如果没有数据，返回无数据
#### 请求数据
<table>
    <tr>
        <th>参数名称</th>
        <th>是否必填</th>
        <th>描述</th>
        <th>默认值</th>
    </tr>
    <tr>
        <td>businessNo</td>
        <td>√</td>
        <td>申请id</td>
        <td></td>
    </tr>
    <tr>
        <td>token</td>
        <td>√</td>
        <td>登录验证</td>
        <td></td>
    </tr>
</table>
    
#### 响应数据
<table>
   <tr>
       <th>参数名称</th>
       <th>是否必填</th>
       <th>描述</th>
       <th>默认值</th>
   </tr>
   <tr>
       <td>data</td>
       <td>√</td>
       <td>map对象</td>
       <td></td>
   </tr>
</table>
   
#### 实例
  请求参数：  
```json
  {
     "businessNo":"zhangsan",
     "token":"154dfsdff48313s1ve844313131fsd8"
  }  
```
   响应参数： 
```json 
{
  "code":200,  
   "msg":"success",  
   "data":  
  {  
    
  }
}  
```
#### 数据库操作
   根据userId查询投保列表  
```sql
    ### 保单基本信息
   SELECT
        (
            SELECT
                organ_name
            FROM
                ggorgan
            WHERE
                organ_id = gu.insurance_code
        ) insurance_name,
        gp.product_name risk_name,
        gu.amount,
        gc.corp_name appli_name,
        gs.contact,
        gc.identity_no,
        gs.post_code,
        (select code_c_name from ggcode where code_type='Province' and code_code = gc.province) province,
        (select code_c_name from ggcode where code_type='City' and code_code = gc.city) city,
        (select code_c_name from ggcode where code_type='County' and code_code = gc.county) county,
        gc.town,
        gc.village,
        gc.address,
        gc.corp_name work_place,
        gc.uniform_code,
        go.organ_name insured_name,
        go.identity_no insured_identity_no,
        go.link_man insured_link,
        go.mobile insured_mobile,
        gs.address,
        go.organ_name,
        gu.letter_id，
        gu.insure_appli
    FROM
        gupolicymain gu,
        ggproduct gp,
        ggusercorp gc,
        ggorgan go,
        gguser gs
    WHERE
        gu.business_no = 'businessNo'
    AND gp.product_id = gu.risk_code
    AND gc.user_id = gu.insure_appli
    AND go.organ_id = gu.insured_code
    AND gu.insure_appli = gs.user_id
    AND gu.status != '5'
    #### 投保人配偶
    根据主键businessNo查询
    #### 推荐函
    根据主键letter_id查询
    ### 资证
    ### 合同表

```
### 4.提交（按钮）申请投保
#### 基本信息
     请求类型：HTTP
     请求地址：http://127.0.0.1:8080/app/policys/
     请求方式：put
     请求类型：String ,String
     响应类型：R
#### 接口描述
     本接口是提交草稿  

#### 请求数据
<table>
    <tr>
        <th>参数名称</th>
        <th>是否必填</th>
        <th>描述</th>
        <th>默认值</th>
    </tr>
    <tr>
        <td>businessNo</td>
        <td>√</td>
        <td>申请id</td>
        <td></td>
    </tr>
    <tr>
        <td>token</td>
        <td>√</td>
        <td>登录验证</td>
        <td></td>
    </tr>
</table>
    
#### 响应数据
<table>
   <tr>
       <th>参数名称</th>
       <th>是否必填</th>
       <th>描述</th>
       <th>默认值</th>
   </tr>
   <tr>
       <td>msg</td>
       <td>√</td>
       <td>success</td>
       <td></td>
   </tr>
</table>
   
#### 实例
  请求参数：  
```json
  {
     "businessNo":"zhangsan",
     "token":"154dfsdff48313s1ve844313131fsd8"
  }  
```
   响应参数： 
```json 
{
  "code":200,  
   "msg":"success"
}  
```
#### 数据库操作
   根据userId查询投保列表  
```sql
  update gupolicymain set status = '1' where business_no = 'businessNo'
```

### 5.机构查询接口
#### 基本信息
    请求类型： http  
    请求地址： http://ip/app/organs/listOrgansByOrganType  
    请求方式： get  
    参数类型： String，String  
    响应类型： R  

#### 接口描述
	本接口是查询申请贷款、申请投保、申请担保时查询机构

#### 请求参数
<table>
    <tr>
        <th>参数名称</th>
        <th>是否必填</th>
        <th>描述</th>
        <th>默认值</th>
    </tr>
    <tr>
        <td>organType</td>
        <td>√</td>
        <td>机构类型（1保险公司，2信贷公司，3担保公司，4其他）</td>
        <td></td>
    </tr>
    <tr>
        <td>token</td>
        <td>√</td>
        <td>登录验证</td>
        <td></td>
    </tr>
</table>

#### 响应数据
<table>
   <tr>
       <th>参数名称</th>
       <th>是否必填</th>
       <th>描述</th>
       <th>默认值</th>
   </tr>
   <tr>
       <td>organ_id</td>
       <td>√</td>
       <td>机构代码</td>
       <td></td>
   </tr>
   <tr>
       <td>organ_name</td>
       <td>√</td>
       <td>机构名称</td>
       <td></td>
   </tr>
</table> 

#### 实例

请求参数  
```json
 {
     "organType":"1",
     "token":"154dfsdff48313s1ve844313131fsd8"
  }  
```
响应数据  
1.成功
```json
{
  "code":200,  
   "msg":"success",  
   "data":  
  :[  
     {  
      "organ_id":"1236478910",  
      "organ_name":"保险公司"
    },
    {  
      "organ_id":"1236478910",
      "organ_name":"保险公司"
    }  
   ]
  
}  
```
2.失败
```json
{
  "code":500,  
   "msg":"查询失败"
}  
```
#### 数据库操作
```sql
select organ_id,organ_name from ggorgan where organ_type = #{organType} and valid_status = '1'
```
---
### 6.查询产品
#### 基本信息
	请求类型： http  
	请求地址： http://ip/app/products/listProducts  
	请求方式： get  
	参数类型： String ，String  
	响应类型： R  
#### 接口描述
	根据机构查询产品

#### 请求参数
<table>
  <tr>
      <th>参数名称</th>
      <th>是否必填</th>
      <th>描述</th>
      <th>默认值</th>
  </tr>
  <tr>
      <td>organId</td>
      <td>√</td>
      <td>机构代码</td>
      <td></td>
  </tr>
  <tr>
      <td>token</td>
      <td>√</td>
      <td>登录验证</td>
      <td></td>
  </tr>
</table>

#### 响应数据
<table>
   <tr>
       <th>参数名称</th>
       <th>是否必填</th>
       <th>描述</th>
       <th>默认值</th>
   </tr>
   <tr>
       <td>product_id</td>
       <td>√</td>
       <td>产品代码</td>
       <td></td>
   </tr>
   <tr>
       <td>product_name</td>
       <td>√</td>
       <td>产品名称</td>
       <td></td>
   </tr>
</table> 

#### 实例
请求参数
```json
{
   "organId":"1",
   "token":"154dfsdff48313s1ve844313131fsd8"
} 
```
响应数据
1.成功
```json
{
  "code":200,  
   "msg":"success",  
   "data":  
  	[  
     {  
      "product_id":"1236478910",  
      "product_name":"流动贷款"
    },
    {  
      "product_id":"1236478910",
      "product_name":"流动贷款"
    }  
   ]
  
}  
```
2.失败
```json
{
  "code":500,  
   "msg":"查询失败"
}  
```
#### 数据库操作
```sql
select product_id,product_name from ggproduct where company_code = #{organId} and valid_status = '1'
```
### 7.查询产品详情接口
#### 基本信息
	请求类型： http  
	请求地址： http://ip/app/products/{productId}/getProductDetail  
	请求方式： get  
	参数类型： String ，String  
	响应类型： R  
#### 接口描述
	根据产品id查询产品详情
#### 请求参数
<table>
  <tr>
      <th>参数名称</th>
      <th>是否必填</th>
      <th>描述</th>
      <th>默认值</th>
  </tr>
  <tr>
      <td>productId</td>
      <td>√</td>
      <td>产品代码</td>
      <td></td>
  </tr>
  <tr>
      <td>token</td>
      <td>√</td>
      <td>登录验证</td>
      <td></td>
  </tr>
</table>

#### 响应数据
<table>
   <tr>
       <th>参数名称</th>
       <th>是否必填</th>
       <th>描述</th>
       <th>默认值</th>
   </tr>
   <tr>
       <td>productDetail</td>
       <td>√</td>
       <td>productDetail</td>
       <td></td>
   </tr>
</table> 

#### 实例
请求参数
```json
{
   "productId":"461561166",
   "token":"154dfsdff48313s1ve844313131fsd8"
} 
```
响应数据
1.成功
```json
{
  "code":200,  
   "msg":"success",  
   "data":  
    {  
       "productId": "1234",
	    "loanAmount": "200000",
	    "loanArrange": "12个月",
	    "rate": 0.02,
	    "payType": "按月还款",
	    "productImg": null,
	    "productDes": null,
	    "productIntroduce": null,
	    "infomation": null,
	    "flag": null,
	    "remark": null
    }
}  
```
2.失败
```json
{
  "code":500,  
   "msg":"查询失败"
}  
```
#### 数据库操作
```sql
select * from ggproductdetail where product_id = #{productId}
```

### 8.投保申请提交接口
#### 基本信息
	请求类型： http  
	请求地址： http://ip/app/policys/  
	请求方式： post  
	参数类型： gupolicymain，gupolicymate，guapplydata  
	响应类型： R  
#### 接口描述
	提交投保申请，如果保存草稿，传status=0，如果保存，则传status=1
#### 请求参数
<table>
  <tr>
      <th>参数名称</th>
      <th>是否必填</th>
      <th>描述</th>
      <th>默认值</th>
  </tr>
  <tr>
      <td>insuranceCode</td>
      <td>√</td>
      <td>保险公司代码</td>
      <td></td>
  </tr>
  <tr>
      <td>amount</td>
      <td>√</td>
      <td>投保金额（草稿时可以为空）</td>
      <td></td>
  </tr>
  <tr>
      <td>riskCode</td>
      <td>√</td>
      <td>险种代码</td>
      <td></td>
  </tr>
  <tr>
      <td>insureAppli</td>
      <td>√</td>
      <td>投保人代码（草稿时可以为空）</td>
      <td></td>
  </tr>
  <tr>
      <td>insuredCode</td>
      <td>√</td>
      <td>被保险人代码（草稿时可以为空）</td>
      <td></td>
  </tr>
  <tr>
      <td>letterId</td>
      <td></td>
      <td>推荐函</td>
      <td></td>
  </tr>
  <tr>
      <td>status</td>
      <td>√</td>
      <td>状态</td>
      <td></td>
  </tr>
  <tr>
      <td>name</td>
      <td></td>
      <td>投保人配偶姓名</td>
      <td></td>
  </tr>
  <tr>
      <td>identityNo</td>
      <td></td>
      <td>配偶身份证号</td>
      <td></td>
  </tr>
  <tr>
      <td>mobile</td>
      <td></td>
      <td>配偶电话</td>
      <td></td>
  </tr>
  <tr>
      <td>companyName</td>
      <td></td>
      <td>配偶所在单位</td>
      <td></td>
  </tr>
  <tr>
      <td>businessClassCode</td>
      <td></td>
      <td>配偶所在单位统一信用代码</td>
      <td></td>
  </tr>
  <tr>
      <td>otherId</td>
      <td></td>
      <td>其他申请资料（json格式，%7B(代替{)"name":"资料地址"%7D（代替}））</td>
      <td></td>
  </tr>
  <tr>
      <td>contractIds</td>
      <td></td>
      <td>合同资料（格式：http//ip/../1.jpg;http//ip/../1.jpg）</td>
      <td></td>
  </tr>
  <tr>
      <td>assetIds</td>
      <td></td>
      <td>资产资料（格式：http//ip/../1.jpg;http//ip/../1.jpg）</td>
      <td></td>
  </tr>
  <tr>
      <td>managerCards</td>
      <td></td>
      <td>资证资料（格式：http//ip/../1.jpg;http//ip/../1.jpg）</td>
      <td></td>
  </tr>
  <tr>
      <td>financialIds</td>
      <td></td>
      <td>财务报表资料（格式：http//ip/../1.jpg;http//ip/../1.jpg）</td>
      <td></td>
  </tr>
  <tr>
      <td>invoiceIds</td>
      <td></td>
      <td>发票资料（格式：http//ip/../1.jpg;http//ip/../1.jpg）</td>
      <td></td>
  </tr>
  <tr>
      <td>token</td>
      <td>√</td>
      <td>登录验证</td>
      <td></td>
  </tr>
</table>

#### 响应数据
1.成功
<table>
   <tr>
       <th>参数名称</th>
       <th>是否必填</th>
       <th>描述</th>
       <th>默认值</th>
   </tr>
   <tr>
       <td>msg</td>
       <td>√</td>
       <td>success</td>
       <td></td>
   </tr>
</table> 
2.失败
<table>
   <tr>
       <th>参数名称</th>
       <th>是否必填</th>
       <th>描述</th>
       <th>默认值</th>
   </tr>
   <tr>
       <td>msg</td>
       <td>√</td>
       <td>error</td>
       <td></td>
   </tr>
</table> 

#### 实例
请求参数
```json
{
  "insuranceCode":"",
  "amount":0,
  "riskCode":"",
  "insureAppli":"",
  "insuredCode":"",
  "letterId":"",
  "status":"",

  "name":"",
  "identityNo":"",
  "mobile":"",
  "companyName":"",
  "businessClassCode":"",

  "otherId":"",
  "contractIds":"",
  "assetIds":"",
  "managerCards":"",
  "financialIds":"",
  "invoiceIds":""
}
```
响应数据  
1.成功
```json
{
  "code":201,  
   "msg":"success"  
}  
```
2.失败
```json
{
  "code":500,  
   "msg":"error"
}  
```

### 9.我的保单接口
#### 基本信息
	请求类型： http  
	请求地址： http://ip/app/policys/ 
	请求方式： get  
	参数类型： String，int，int，String  
	响应类型： R  
#### 接口描述
	根据用户id查询是否存在草稿
#### 请求参数
<table>
  <tr>
      <th>参数名称</th>
      <th>是否必填</th>
      <th>描述</th>
      <th>默认值</th>
  </tr>
  <tr>
      <td>userId</td>
      <td>√</td>
      <td>投保人id</td>
      <td></td>
  </tr>
  <tr>
      <td>pageNum</td>
      <td>√</td>
      <td>第几页</td>
      <td></td>
  </tr>
  <tr>
      <td>pageSize</td>
      <td>√</td>
      <td>每页记录数</td>
      <td></td>
  </tr>
  <tr>
      <td>token</td>
      <td>√</td>
      <td>登录验证</td>
      <td></td>
  </tr>
</table>

#### 响应数据  
<table>
   <tr>
       <th>参数名称</th>
       <th>是否必填</th>
       <th>描述</th>
       <th>默认值</th>
   </tr>
   <tr>
       <td>business_no</td>
       <td>√</td>
       <td>申请编号</td>
       <td></td>
   </tr>
   <tr>
       <td>policy_no</td>
       <td></td>
       <td>保单号</td>
       <td></td>
   </tr>
   <tr>
       <td>risk_name</td>
       <td>√</td>
       <td>险种名称</td>
       <td></td>
   </tr>
   <tr>
       <td>amount</td>
       <td>√</td>
       <td>保额</td>
       <td></td>
   </tr>
   <tr>
       <td>rate</td>
       <td>√</td>
       <td>费率</td>
       <td></td>
   </tr>
   <tr>
       <td>start_date</td>
       <td>√</td>
       <td>起保日期</td>
       <td></td>
   </tr>
   <tr>
       <td>end_date</td>
       <td>√</td>
       <td>终保日期</td>
       <td></td>
   </tr>
   <tr>
       <td>status</td>
       <td>√</td>
       <td>状态</td>
       <td></td>
   </tr>
</table> 

#### 实例
请求参数
```json
{
  "userId":"123456",
  "token":"dfaafd45486d165484s6d646"
}
```
响应数据  
1.成功
```json
{
  "msg": "success",
  "code": 200,
  "data": {
    "total": 1, //记录总数
    "list": [
      {
        "end_date": "2018-01-09 15:41:24",
        "policy_no": "",
        "amount": 2000000,
        "STATUS": "5",
        "rate": 0.01,
        "input_time": "2018-01-09 10:41:23",
        "business_no": "3",
        "risk_code": "1234",
        "risk_name": "借款履约保证保险",
        "start_date": "2018-01-09 15:41:18"
      }
    ],
    "pageNum": 1,//第几页
    "pageSize": 5,//每页记录数
    "pages": 1, //总页数
    "size": 1 //当前页记录数
  }
}
```
2.失败
```json
{
  "code":500,  
   "msg":"error"
}  
```
#### 数据库操作
  根据userId查询投保列表  
```sql
  SELECT
		gu.business_no,
		gu.policy_no,
		gu.risk_code,
		gp.product_name risk_name,
		gu.amount,
		gu.rate,
		gu.start_date,
		gu.end_date,
		gu.input_time,
		gu.status
	FROM
		gupolicymain gu
	LEFT JOIN ggproduct gp ON gu.risk_code = gp.product_id
	WHERE
		gu.insure_appli = '15264311168'
	AND gu.status = '5'
	ORDER BY
		gu.update_time DESC
```
### 10.保单查看接口
#### 基本信息
	请求类型： http  
	请求地址： http://ip/app/policys/{businessNo}  
	请求方式： get  
	参数类型： String，String  
	响应类型： R  
#### 接口描述
	根据用户id查询是否存在草稿
#### 请求参数
<table>
  <tr>
      <th>参数名称</th>
      <th>是否必填</th>
      <th>描述</th>
      <th>默认值</th>
  </tr>
  <tr>
      <td>businessNo</td>
      <td>√</td>
      <td>保单id</td>
      <td></td>
  </tr>
  <tr>
      <td>token</td>
      <td>√</td>
      <td>登录验证</td>
      <td></td>
  </tr>
</table>

#### 响应数据  
<table>
   <tr>
       <th>参数名称</th>
       <th>是否必填</th>
       <th>描述</th>
       <th>默认值</th>
   </tr>
   <tr>
       <td>area_name</td>
       <td></td>
       <td>所在区域</td>
       <td></td>
   </tr>
   <tr>
       <td>end_date</td>
       <td>√</td>
       <td>有效截止日期</td>
       <td></td>
   </tr>
   <tr>
       <td>referrer_name</td>
       <td>√</td>
       <td>推荐人</td>
       <td></td>
   </tr>
   <tr>
       <td>letter_id</td>
       <td>√</td>
       <td>推荐函id</td>
       <td></td>
   </tr>
   <tr>
       <td>corp_name</td>
       <td>√</td>
       <td>被推荐人</td>
       <td></td>
   </tr>
   <tr>
       <td>accepter_name</td>
       <td>√</td>
       <td>接收人</td>
       <td></td>
   </tr>
   <tr>
       <td>start_date</td>
       <td>√</td>
       <td>推荐函起始日期</td>
       <td></td>
   </tr>
   <tr>
       <td>valid_status</td>
       <td></td>
       <td>状态</td>
       <td></td>
   </tr>
   <tr>
       <td>borrowAmount</td>
       <td></td>
       <td>合同金额</td>
       <td></td>
   </tr>
   <tr>
       <td>borrowArrange</td>
       <td></td>
       <td>借款期限</td>
       <td></td>
   </tr>
   <tr>
       <td>rate</td>
       <td>√</td>
       <td>月利率</td>
       <td></td>
   </tr>
   <tr>
       <td>createTime</td>
       <td></td>
       <td>创建时间</td>
       <td></td>
   </tr>
   <tr>
       <td>contractNo</td>
       <td>√</td>
       <td>合同号</td>
       <td></td>
   </tr>
   <tr>
       <td>bankName</td>
       <td>√</td>
       <td>放贷银行</td>
       <td></td>
   </tr>
   <tr>
       <td>product_id</td>
       <td>√</td>
       <td>产品代码</td>
       <td></td>
   </tr>
   <tr>
       <td>borrowId</td>
       <td>√</td>
       <td>借款编号</td>
       <td></td>
   </tr>
   <tr>
       <td>userName</td>
       <td>√</td>
       <td>借款人</td>
       <td></td>
   </tr>
   <tr>
       <td>status</td>
       <td>√</td>
       <td>状态（0，草稿，1待审核，2，审核不通过，3审核通过并生成合同，4申请放款，5放款完成）</td>
       <td></td>
   </tr>
   <tr>
       <td>link_address</td>
       <td></td>
       <td>联系地址</td>
       <td></td>
   </tr>
   <tr>
       <td>end_date</td>
       <td>√</td>
       <td>保单结束日期</td>
       <td></td>
   </tr>
   <tr>
       <td>policy_no</td>
       <td>√</td>
       <td>保单号</td>
       <td></td>
   </tr>
   <tr>
       <td>amount</td>
       <td>√</td>
       <td>保额</td>
       <td></td>
   </tr>
   <tr>
       <td>insurance_path</td>
       <td></td>
       <td>电子保单地址</td>
       <td></td>
   </tr>
   <tr>
       <td>business_no</td>
       <td>√</td>
       <td>投保编号</td>
       <td></td>
   </tr>
   <tr>
       <td>appli_name</td>
       <td>√</td>
       <td>投保人</td>
       <td></td>
   </tr>
   <tr>
       <td>remark</td>
       <td></td>
       <td>备注</td>
       <td></td>
   </tr>
   <tr>
       <td>insured_mobile</td>
       <td></td>
       <td>被保险人联系电话</td>
       <td></td>
   </tr>
   <tr>
       <td>broker</td>
       <td></td>
       <td>经办</td>
       <td></td>
   </tr>
   <tr>
       <td>dispute_type</td>
       <td></td>
       <td>争议解决方式（1.）</td>
       <td></td>
   </tr>
   <tr>
       <td>broker</td>
       <td></td>
       <td>经办</td>
       <td></td>
   </tr>
   <tr>
       <td>organ_name</td>
       <td></td>
       <td>受益人</td>
       <td></td>
   </tr>
   <tr>
       <td>premium</td>
       <td></td>
       <td>保费</td>
       <td></td>
   </tr>
   <tr>
       <td>insured_name</td>
       <td></td>
       <td>被保险人</td>
       <td></td>
   </tr>
   <tr>
       <td>rate</td>
       <td></td>
       <td>费率</td>
       <td></td>
   </tr>
   <tr>
       <td>contact</td>
       <td></td>
       <td>投保人电话</td>
       <td></td>
   </tr>
   <tr>
       <td>insured_identity_no</td>
       <td></td>
       <td>被保险人电话</td>
       <td></td>
   </tr>
   <tr>
       <td>insurance_name</td>
       <td></td>
       <td>承保公司</td>
       <td></td>
   </tr>
   <tr>
       <td>identity_no</td>
       <td></td>
       <td>投保人证件号</td>
       <td></td>
   </tr>
   <tr>
       <td>risk_name</td>
       <td></td>
       <td>险种名称</td>
       <td></td>
   </tr>
   <tr>
       <td>start_date</td>
       <td>√</td>
       <td>起保日期</td>
       <td></td>
   </tr>
</table> 

#### 实例  
请求参数  
```json
{
  "businessNo":"123456",
  "token":"dfaafd45486d165484s6d646"
}
```
响应数据  
1.成功
```json
{
  "code":200,  
   "msg":"success",  
   "data": {
     "letter": {
      "area_name": "贵州省黔西南布依族苗族自治州兴义市",
      "end_date": "2018-01-23",
      "referrer_name": "农委",
      "letter_id": "123456",
      "corp_name": "某公司",
      "accepter_name": "国寿财",
      "start_date": "2018-01-10",
      "valid_status": "已生效"
    },
    "contract": {
      "borrowAmount": 6000000,
      "borrowArrange": 12,
      "rate": 2.17,
      "createTime": "2018-01-10 17:51:25",
      "contractNo": "78910",
      "bankName": "张三",
      "product_id": "15154930825584651576",
      "borrowId": "15154979522381392010",
      "userName": "张三",
      "record_address": "http://localhost:8080/asfdasd",
      "status": "0"
    },
    "main": {
      "link_address": "贵州省黔西南布依族苗族自治州兴义市",
      "end_date": "2018-01-09 15:41:24",
      "policy_no": "",
      "amount": 2000000,
      "contract_id": "78910",
      "insurance_path": "",
      "business_no": "3",
      "appli_name": "某公司",
      "remark": "",
      "letter_id": "123456",
      "insured_mobile": "123456789",
      "broker": "",
      "dispute_type": "1",
      "organ_name": "身份证",
      "premium": 0,
      "insured_name": "身份证",
      "rate": 0.01,
      "contact": "",
      "insured_identity_no": "132456789095465",
      "insurance_name": "国寿财",
      "identity_no": "1534846546",
      "risk_name": "借款履约保证保险",
      "start_date": "2018-01-09 15:41:18"
    }
  }
}  
```
2.失败
```json
{
  "code":500,  
   "msg":"error"
}  
```
#### 数据库操作
  根据userId查询投保列表  
```sql
  SELECT
	gu.policy_no,
	gu.business_no,
	(
		SELECT
			organ_name
		FROM
			ggorgan
		WHERE
			organ_id = gu.insurance_code
	) insurance_name,
	gp.product_name risk_name,
	gu.amount,
	gc.corp_name appli_name,
	gs.contact,
	gc.identity_no,
	concat (
				(
					SELECT
						code_c_name
					FROM
						ggcode
					WHERE
						code_type = 'Province'
					AND code_code = gc.province
				),
				(
					SELECT
						code_c_name
					FROM
						ggcode
					WHERE
						code_type = 'City'
					AND code_code = gc.city
				),
				(
					SELECT
						code_c_name
					FROM
						ggcode
					WHERE
						code_type = 'County'
					AND code_code = gc.county
				)
	) link_address,
	go.organ_name insured_name,
	go.identity_no insured_identity_no,
	go.mobile insured_mobile,
	go.organ_name,
	gu.letter_id,
	gu.contract_id,
	gu.rate,
	gu.premium,
	gu.start_date,
	gu.end_date,
	gu.excess,
	gu.dispute_type,
	gu.insurance_path,
	gu.remark,
	gu.broker
FROM
	gupolicymain gu,
	ggproduct gp,
	ggusercorp gc,
	ggorgan go,
	gguser gs
WHERE
	gu.business_no = 'businessId'
AND gp.product_id = gu.risk_code
AND gc.user_id = gu.insure_appli
AND go.organ_id = gu.insured_code
AND gu.insure_appli = gs.user_id
AND gu. STATUS = '5'

  ###推荐函  
  SELECT
	gl.letter_id,
	gc.corp_name,
	CONCAT(
		(
			SELECT
				code_c_name
			FROM
				ggcode
			WHERE
				code_type = 'Province'
			AND code_code = gc.province
		),
		(
			SELECT
				code_c_name
			FROM
				ggcode
			WHERE
				code_type = 'City'
			AND code_code = gc.city
		),
		(
			SELECT
				code_c_name
			FROM
				ggcode
			WHERE
				code_type = 'County'
			AND code_code = gc.county
		)
	) area_name,
	gu.user_name,
	go.organ_name,
	gl.start_date,
	gl.end_date,
	CASE
WHEN NOW() < gl.start_date THEN
	'未生效'
WHEN NOW() < gl.start_date
AND gl.end_date > NOW() THEN
	'已生效'
WHEN gl.end_date < NOW() THEN
	'已失效'
END STATUS
FROM
	ggletter gl
LEFT JOIN ggusercorp gc ON gl.user_id = gc.user_id
LEFT JOIN gguser gu ON gl.referrer = gu.user_id
LEFT JOIN ggorgan go ON go.organ_id = gl.accepter
WHERE
	gl.letter_id = "letterId"
  ###借款合同  
  select
        borrow_id AS borrowId,
        contract_no as contractNo,
        borrow_amount as borrowAmount,
        rate as rate,
        (select go.organ_name from ggorgan go where go.organ_id = gb.bank_id) as bankName,
        product_id,
        (select gu.user_name from gguser gu where gu.user_id = gb.user_id) as userName,
        borrow_arrange as borrowArrange,
        create_time as createTime,
        status as status,
        record_address
        from guborrowmoney gb
        where contract_no = #{contractNo}
        order by borrow_id
```
